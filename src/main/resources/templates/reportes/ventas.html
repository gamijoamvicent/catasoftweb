<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Ventas - InventSoft</title>
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
    <link rel="stylesheet" th:href="@{/css/ventas.css}">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-container">
                <img src="/images/logo.png" alt="InventSoft Logo" class="logo">
            </div>
            
            <div class="user-info" th:if="${licoreriaActual != null}">
                <div class="licoreria-info">
                    <h3>üè¢ Licorer√≠a Actual</h3>
                    <p th:text="${licoreriaActual.nombre}"></p>
                    <p><strong>Ubicaci√≥n:</strong> <span th:text="${licoreriaActual.direccion}"></span></p>
                    <p><strong>Tel√©fono:</strong> <span th:text="${licoreriaActual.telefono}"></span></p>
                </div>
            </div>

            <div class="actions-container">
                <a th:href="@{/}" class="btn btn-secondary">
                    <span class="icon">üè†</span> Volver al Inicio
                </a>
            </div>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content">
            <div class="venta-container">
                <h1>Reporte de Ventas</h1>

                <!-- Filtros -->
                <div class="filtros-container">
                    <div class="filter-group">
                        <label for="fecha-inicio">Fecha Inicio:</label>
                        <input type="date" id="fecha-inicio" class="filter-input">
                    </div>
                    <div class="filter-group">
                        <label for="fecha-fin">Fecha Fin:</label>
                        <input type="date" id="fecha-fin" class="filter-input">
                    </div>
                    <div class="filter-group">
                        <label for="tipo-venta">Tipo de Venta:</label>
                        <select id="tipo-venta" class="filter-input">
                            <option value="TODAS">Todas</option>
                            <option value="CONTADO">Contado</option>
                            <option value="CREDITO">Cr√©dito</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="metodo-pago">M√©todo de Pago:</label>
                        <select id="metodo-pago" class="filter-input">
                            <option value="TODOS">Todos</option>
                            <option value="EFECTIVO">Efectivo</option>
                            <option value="TRANSFERENCIA">Transferencia</option>
                            <option value="PUNTO_VENTA">Punto de Venta</option>
                            <option value="PAGO_MOVIL">Pago M√≥vil</option>
                        </select>
                    </div>
                </div>

                <!-- Estad√≠sticas -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title">Total Ventas</div>
                        <div class="stat-value" id="total-ventas">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Ingresos Totales</div>
                        <div class="stat-value" id="ingresos-totales">$0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Ticket Promedio</div>
                        <div class="stat-value" id="ticket-promedio">$0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Productos Vendidos</div>
                        <div class="stat-value" id="productos-vendidos">0</div>
                    </div>
                </div>

                <!-- Tabla de ventas -->
                <div class="table-container">
                    <table class="productos-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Nro. Venta</th>
                                <th>Cliente</th>
                                <th>Tipo</th>
                                <th>M√©todo Pago</th>
                                <th>Total USD</th>
                                <th>Total Bs</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="ventas-list">
                            <!-- Las ventas se agregar√°n din√°micamente -->
                        </tbody>
                    </table>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="actions-container">
                    <button type="button" class="btn btn-secondary export-btn" data-format="pdf">
                        <span class="icon">üìÑ</span> Exportar PDF
                    </button>
                    <button type="button" class="btn btn-secondary export-btn" data-format="excel">
                        <span class="icon">üìä</span> Exportar Excel
                    </button>
                    <button type="button" class="btn btn-primary" id="actualizar-reporte">
                        <span class="icon">üîÑ</span> Actualizar
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script th:src="@{/js/dashboard.js}"></script>
    <script th:src="@{/js/ventas.js}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initializeReportes();
        });
    </script>
</body>
</html> 